{% load i18n %}
{% load static from staticfiles %}
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
   "http://www.w3.org/TR/html4/strict.dtd">
{% get_current_language as LANGUAGE_CODE %}
<html lang="{{ LANGUAGE_CODE }}">

  <head>
    {% block head %}
      {% block head_meta %}
        {% block head_meta_charset %}
          <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        {% endblock head_meta_charset %}
        {% block head_meta_viewport %}
          <meta name="viewport" content="width=device-width, initial-scale=1.0">
        {% endblock head_meta_viewport %}
      {% endblock head_meta %}
    <title>{% block title %}{% endblock %}</title>
    <!-- Bootstrap -->
    <link href="{% static 'oscm_app/css/bootstrap.min.css' %}"
        rel="stylesheet" media="screen">
    <style>
      body {
        padding-top: 20px;
        padding-bottom: 20px;
      }
    </style>
    {% endblock head %}
    {% block extra_head %}{% endblock %}
  </head>

  <body id="{% block body_id %}{% endblock %}">
    <!-- Navigation bar code -->
    <div id="nav_container" class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="container-fluid">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="{% url 'oscm:index' %}">{% trans "OSCM" %}</a>
        </div>
        <div class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
            <li class="active"><a href="{% url 'oscm:home' %}">{% trans "Home" %}</a></li>
            <li><a href="{% url '404' %}">{% trans "About" %}</a></li>
            <li><a href="{% url '404' %}">{% trans "Contact" %}</a></li>
          </ul>
          <ul class="nav navbar-nav navbar-right">
            {% if user.is_authenticated %}
              {% if user.is_superuser %}
                <li><a href="{% url 'admin:index' %}">{% trans "Admin" %}</a></li>
              {% endif %}
              <li><p class="navbar-text">
                {% if request.user.first_name or request.user.last_name %}
                  {{ request.user.first_name }} {{ request.user.last_name }}
                {% else %}
                  {{ request.user.username }}
                {% endif %}
              </p></li>
              <li><a href="{% url 'oscm:logout' %}">{% trans 'Log out' %}</a></li>
            {% else %}
              <li><a href="{% url 'oscm:login' %}">{% trans 'Log in' %}</a>
              {% include "oscm_app/language-selector.html" %}
            {% endif %}
          </ul>
        </div>
      </div>
    </div>

    <div id="main_container" class="container-fluid">
      <div class="page-header"><h1>{% trans "oscm_nameOfApplication" %}</h1></div>
      {% block container %}
        <div class="row">
          <div class="col-sm-3 col-md-2 sidebar">
            {% block side_block %}{% endblock %}
          </div>
          <div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main">
            <div>
              {% block content_title %}{% endblock %}
            </div>
            <div class="content">
              <div id="messages">
                {% block messages %}
                  <p>{% include "oscm_app/messages.html" %}</p>
                {% endblock messages %}
              </div>
              {% block content %}{% endblock %}
            </div>
          </div>
        </div>
      {% endblock container %}

      <!-- Footer -->
      {% block footer %}
      <footer>
        <div class="row">
          <div class="col-lg-12">
            {% include "oscm_app/footer.html" %}
          </div>
        </div>
      </footer>
      {% endblock footer %}
      <!-- End of Footer -->

    </div>

    <script src="{% static 'oscm_app/js/jquery-1.11.2.min.js' %}"></script>
    <script src="{% static 'oscm_app/js/bootstrap.min.js' %}"></script>
  </body>
</html>